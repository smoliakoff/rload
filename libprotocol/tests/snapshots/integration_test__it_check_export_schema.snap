---
source: libprotocol/tests/integration_test.rs
expression: "fs::read_to_string(&result_path)?"
---
"{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"title\": \"Scenario\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": {\n      \"type\": \"string\"\n    },\n    \"target\": {\n      \"$ref\": \"#/$defs/Target\"\n    },\n    \"threshold\": {\n      \"type\": [\n        \"array\",\n        \"null\"\n      ],\n      \"items\": {\n        \"$ref\": \"#/$defs/Rule\"\n      }\n    },\n    \"version\": {\n      \"type\": \"integer\",\n      \"format\": \"uint32\",\n      \"minimum\": 0\n    },\n    \"workload\": {\n      \"$ref\": \"#/$defs/Workload\"\n    }\n  },\n  \"$version\": \"1\",\n  \"required\": [\n    \"version\",\n    \"name\",\n    \"target\",\n    \"workload\"\n  ],\n  \"$defs\": {\n    \"Rule\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"action\": {\n          \"type\": \"string\"\n        },\n        \"metric\": {\n          \"type\": \"string\"\n        },\n        \"threshold\": {\n          \"type\": \"integer\",\n          \"format\": \"int32\"\n        }\n      },\n      \"required\": [\n        \"metric\",\n        \"threshold\",\n        \"action\"\n      ]\n    },\n    \"Stage\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"duration_sec\": {\n          \"type\": \"integer\",\n          \"format\": \"int32\"\n        },\n        \"rps\": {\n          \"type\": \"integer\",\n          \"format\": \"int32\"\n        }\n      },\n      \"required\": [\n        \"duration_sec\",\n        \"rps\"\n      ]\n    },\n    \"Target\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"base_url\": {\n          \"type\": \"string\"\n        },\n        \"default_headers\": {\n          \"type\": [\n            \"object\",\n            \"null\"\n          ],\n          \"additionalProperties\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"required\": [\n        \"base_url\"\n      ]\n    },\n    \"Workload\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"stages\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"$ref\": \"#/$defs/Stage\"\n          }\n        }\n      },\n      \"required\": [\n        \"stages\"\n      ]\n    }\n  }\n}"
